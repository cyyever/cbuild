{
  "git_url": "git@github.com:pytorch/pytorch.git",
  "reuse_build": true,
  "ignored_git_submodules": [
    "third_party/eigen",
    "third_party/pybind11",
    "third_party/ios-cmake",
    "third_party/protobuf"
  ],
  "cache_time": 30,
  "conditional_new_feature": {
    "support_cuda": [
      "cuda"
    ]
  },
  "default_build_script": "python",
  "environment_variable": [
    "run_test=0",
    "static_analysis=0",
    "BUILD_TEST=off",
    "USE_MPI=OFF",
    "ATEN_NO_TEST=ON",
    "BUILD_CAFFE2=off",
    "BUILD_CAFFE2_MOBILE=off",
    "BUILD_CUSTOM_PROTOBUF=off",
    "USE_DISTRIBUTED=off",
    "USE_SYSTEM_EIGEN_INSTALL=ON",
    "USE_FBGEMM=on",
    "USE_NATIVE_ARCH=on",
    "USE_ROCM=off",
    "USE_TENSORRT=off",
    "GLIBCXX_USE_CXX11_ABI=1",
    "USE_OPENCV=off",
    "USE_QNNPACK=on",
    "USE_PYTORCH_QNNPACK=on",
    "USE_METAL=off",
    "USE_NUMA=ON",
    "USE_FFMPEG=off",
    "USE_GLOG=off",
    "USE_GFLAGS=off",
    "ONNX_ML=off",
    "BLAS=OpenBLAS",
    "PYTHON_EXECUTABLE=${CBUILD_PYTHON_EXE}",
    "OpenBLAS_HOME=${INSTALL_PREFIX}/include/openblas",
    "OpenBLAS=${INSTALL_PREFIX}"
  ],
  "conditional_environment_variable": {
    "cuda": [
      "USE_CUDA=on",
      "USE_CUDNN=on",
      "USE_MKLDNN=off",
      "CUDNN_ROOT=${INSTALL_PREFIX}/cuda",
      "CUDNN_LIBRARY=${INSTALL_PREFIX}/cuda"
    ],
    "linux": [
      "CMAKE_CXX_COMPILER=/usr/bin/clang++",
      "CMAKE_C_COMPILER=/usr/bin/clang"
    ],
    "ubuntu": [
      "CUDA_HOST_COMPILER=/usr/bin/g++-9"
    ],
    "archlinux": [
      "CUDA_HOST_COMPILER=/usr/bin/g++-10"
    ],
    "debug_build": [
      "DEBUG=1"
    ],
    "linux&&cuda": [
      "NCCL_ROOT=${INSTALL_PREFIX}",
      "NCCL_INCLUDE_DIR=${INSTALL_PREFIX}/include",
      "USE_NCCL=on",
      "USE_SYSTEM_NCCL=off"
    ],
    "freebsd": [
      "USE_KINETO=off"
    ]
  },
  "dependency": [
    "machine_learning_dev_env:__cbuild_most_recent_git_tag",
    "pybind11:master"
  ],
  "system_package_dependency": {
    "ubuntu": [
      "libgoogle-glog-dev",
      "libnuma-dev",
      "libgtest-dev"
    ],
    "pip": [
      "typing_extensions"
    ],
    "archlinux": [
      "google-glog",
      "gflags",
      "numactl"
    ]
  }
}
